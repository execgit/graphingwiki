/*
 * Raphael 1.1 - JavaScript Vector Library
 *
 * Copyright (c) 2008 - 2009 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 *
 * g.Raphael 0.4 - Charting library, based on RaphaÃ«l
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
window.Raphael=(function(){var av=/[, ]+/,n=document,af=window,al={was:"Raphael" in af,is:af.Raphael},m=function(){if(m.is(arguments[0],"array")){var e=arguments[0],E=s[aq](m,e.splice(0,3+m.is(e[0],aj))),ax=E.set();for(var aw=0,ay=e[B];aw<ay;aw++){var R=e[aw]||{};({circle:1,rect:1,path:1,ellipse:1,text:1,image:1}[j](R.type))&&ax[ag](E[R.type]().attr(R))}return ax}return s[aq](m,arguments)},f={},I=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup"],y="",j="hasOwnProperty",x="prototype",g="setAttribute",c="appendChild",aq="apply",B="length",v="join",J="split",L="concat",ag="push",b=parseFloat,w=parseInt,N=Math.pow,X=Math.min,t=Math.max,ak=Math.round,aa=/^(?=[\da-f]$)/,aj="number",k="toString",C={"clip-rect":"0 0 10e9 10e9",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},H={"clip-rect":"csv",cx:aj,cy:aj,fill:"colour","fill-opacity":aj,"font-size":aj,height:aj,opacity:aj,path:"path",r:aj,rotation:"csv",rx:aj,ry:aj,scale:"csv",stroke:"colour","stroke-opacity":aj,"stroke-width":aj,translation:"csv",width:aj,x:aj,y:aj},T="replace";m.version="1.1";m.type=(af.SVGAngle||n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");m.svg=!(m.vml=m.type=="VML");m.idGenerator=0;m.fn={};m.is=function(i,e){e=(e+y).toLowerCase();if((e=="object"||e=="undefined")&&typeof i==e){return true}if(i==null&&e=="null"){return true}return Object[x][k].call(i)[T](/^\[object\s+|\]$/gi,y).toLowerCase()==e};m.setWindow=function(e){af=e;n=af.document};m.hsb2rgb=au(function(aB,az,aF){if(m.is(aB,"object")&&"h" in aB&&"s" in aB&&"b" in aB){aF=aB.b;az=aB.s;aB=aB.h}var aw,ax,aG;if(aF==0){return{r:0,g:0,b:0,hex:"#000"}}if(aB>1||az>1||aF>1){aB/=255;az/=255;aF/=255}var ay=~~(aB*6),aC=(aB*6)-ay,R=aF*(1-az),E=aF*(1-(az*aC)),aH=aF*(1-(az*(1-aC)));aw=[aF,E,R,R,aH,aF,aF][ay];ax=[aH,aF,aF,E,R,R,aH][ay];aG=[R,R,aH,aF,aF,E,R][ay];aw*=255;ax*=255;aG*=255;var aD={r:aw,g:ax,b:aG},e=(~~aw)[k](16),aA=(~~ax)[k](16),aE=(~~aG)[k](16);e=e[T](aa,"0");aA=aA[T](aa,"0");aE=aE[T](aa,"0");aD.hex="#"+e+aA+aE;return aD},m);m.rgb2hsb=au(function(e,i,az){if(m.is(e,"object")&&"r" in e&&"g" in e&&"b" in e){az=e.b;i=e.g;e=e.r}if(m.is(e,"string")){var aB=m.getRGB(e);e=aB.r;i=aB.g;az=aB.b}if(e>1||i>1||az>1){e/=255;i/=255;az/=255}var ay=t(e,i,az),E=X(e,i,az),aw,R,ax=ay;if(E==ay){return{h:0,s:0,b:ay}}else{var aA=(ay-E);R=aA/ay;if(e==ay){aw=(i-az)/aA}else{if(i==ay){aw=2+((az-e)/aA)}else{aw=4+((e-i)/aA)}}aw/=6;if(aw<0){aw+=1}if(aw>1){aw-=1}}return{h:aw,s:R,b:ax}},m);m._path2string=function(){var R=y,ay;for(var E=0,aw=this[B];E<aw;E++){for(var e=0,ax=this[E][B];e<ax;e++){R+=this[E][e];e&&e!=ax-1&&(R+=",")}E!=aw-1&&(R+=" ")}return R[T](/,(?=-)/g,y)};function au(R,i,e){function E(){var aw=Array[x].splice.call(arguments,0,arguments[B]),ax=aw[v]("\u25ba");E.cache=E.cache||{};E.count=E.count||[];if(ax in E.cache){return e?e(E.cache[ax]):E.cache[ax]}if(E.count[B]>=1000){delete E.cache[E.count.shift()]}E.count[ag](ax);E.cache[ax]=R[aq](i,aw);return e?e(E.cache[ax]):E.cache[ax]}return E}m.getRGB=au(function(e){var aB={none:"none",aliceblue:"#f0f8ff",amethyst:"#96c",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},ax;e=aB[(e+y).toLowerCase()]||e;if(!e){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}var E,R,aA,ay=(e+y).match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i);if(ay){if(ay[2]){aA=w(ay[2].substring(5),16);R=w(ay[2].substring(3,5),16);E=w(ay[2].substring(1,3),16)}if(ay[3]){aA=w(ay[3].substring(3)+ay[3].substring(3),16);R=w(ay[3].substring(2,3)+ay[3].substring(2,3),16);E=w(ay[3].substring(1,2)+ay[3].substring(1,2),16)}if(ay[4]){ay=ay[4][J](/\s*,\s*/);E=b(ay[0]);R=b(ay[1]);aA=b(ay[2])}if(ay[5]){ay=ay[5][J](/\s*,\s*/);E=b(ay[0])*2.55;R=b(ay[1])*2.55;aA=b(ay[2])*2.55}if(ay[6]){ay=ay[6][J](/\s*,\s*/);E=b(ay[0]);R=b(ay[1]);aA=b(ay[2]);return m.hsb2rgb(E,R,aA)}if(ay[7]){ay=ay[7][J](/\s*,\s*/);E=b(ay[0])*2.55;R=b(ay[1])*2.55;aA=b(ay[2])*2.55;return m.hsb2rgb(E,R,aA)}ay={r:E,g:R,b:aA};var i=(~~E)[k](16),aw=(~~R)[k](16),az=(~~aA)[k](16);i=i[T](aa,"0");aw=aw[T](aa,"0");az=az[T](aa,"0");ay.hex="#"+i+aw+az;ax=ay}else{ax={r:-1,g:-1,b:-1,hex:"none",error:1}}return ax},m);m.getColor=function(i){var E=this.getColor.start=this.getColor.start||{h:0,s:1,b:i||0.75},e=this.hsb2rgb(E.h,E.s,E.b);E.h+=0.075;if(E.h>1){E.h=0;E.s-=0.2;if(E.s<=0){this.getColor.start={h:0,s:1,b:E.b}}}return e.hex};m.getColor.reset=function(){delete this.start};m.parsePathString=au(function(e){if(!e){return null}var E={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];if(m.is(e,"array")&&m.is(e[0],"array")){i=G(e)}if(!i[B]){(e+y)[T](/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(aw,R,az){var ay=[],ax=R.toLowerCase();az[T](/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(aB,aA){aA&&ay[ag](+aA)});while(ay[B]>=E[ax]){i[ag]([R][L](ay.splice(0,E[ax])));if(!E[ax]){break}}})}i[k]=m._path2string;return i});var V=au(function(aC){if(!aC){return{x:0,y:0,width:0,height:0}}aC=ai(aC);var az=0,ay=0,R=[],E=[];for(var aw=0,aB=aC[B];aw<aB;aw++){if(aC[aw][0]=="M"){az=aC[aw][1];ay=aC[aw][2];R[ag](az);E[ag](ay)}else{var ax=ad(az,ay,aC[aw][1],aC[aw][2],aC[aw][3],aC[aw][4],aC[aw][5],aC[aw][6]);R=R[L](ax.min.x,ax.max.x);E=E[L](ax.min.y,ax.max.y)}}var e=X[aq](0,R),aA=X[aq](0,E);return{x:e,y:aA,width:t[aq](0,R)-e,height:t[aq](0,E)-aA}}),G=function(ay){var R=[];if(!m.is(ay,"array")||!m.is(ay&&ay[0],"array")){ay=m.parsePathString(ay)}for(var E=0,aw=ay[B];E<aw;E++){R[E]=[];for(var e=0,ax=ay[E][B];e<ax;e++){R[E][e]=ay[E][e]}}R[k]=m._path2string;return R},h=au(function(aw){if(!m.is(aw,"array")||!m.is(aw&&aw[0],"array")){aw=m.parsePathString(aw)}var aC=[],aE=0,aD=0,aH=0,aG=0,R=0;if(aw[0][0]=="M"){aE=aw[0][1];aD=aw[0][2];aH=aE;aG=aD;R++;aC[ag](["M",aE,aD])}for(var az=R,aI=aw[B];az<aI;az++){var e=aC[az]=[],aF=aw[az];if(aF[0]!=aF[0].toLowerCase()){e[0]=aF[0].toLowerCase();switch(e[0]){case"a":e[1]=aF[1];e[2]=aF[2];e[3]=aF[3];e[4]=aF[4];e[5]=aF[5];e[6]=+(aF[6]-aE).toFixed(3);e[7]=+(aF[7]-aD).toFixed(3);break;case"v":e[1]=+(aF[1]-aD).toFixed(3);break;case"m":aH=aF[1];aG=aF[2];default:for(var ay=1,aA=aF[B];ay<aA;ay++){e[ay]=+(aF[ay]-((ay%2)?aE:aD)).toFixed(3)}}}else{e=aC[az]=[];if(aF[0]=="m"){aH=aF[1]+aE;aG=aF[2]+aD}for(var ax=0,E=aF[B];ax<E;ax++){aC[az][ax]=aF[ax]}}var aB=aC[az][B];switch(aC[az][0]){case"z":aE=aH;aD=aG;break;case"h":aE+=+aC[az][aB-1];break;case"v":aD+=+aC[az][aB-1];break;default:aE+=+aC[az][aB-2];aD+=+aC[az][aB-1]}}aC[k]=m._path2string;return aC},0,G),K=au(function(aw){if(!m.is(aw,"array")||!m.is(aw&&aw[0],"array")){aw=m.parsePathString(aw)}var aB=[],aD=0,aC=0,aG=0,aF=0,R=0;if(aw[0][0]=="M"){aD=+aw[0][1];aC=+aw[0][2];aG=aD;aF=aC;R++;aB[0]=["M",aD,aC]}for(var az=R,aH=aw[B];az<aH;az++){var e=aB[az]=[],aE=aw[az];if(aE[0]!=(aE[0]+y).toUpperCase()){e[0]=(aE[0]+y).toUpperCase();switch(e[0]){case"A":e[1]=aE[1];e[2]=aE[2];e[3]=aE[3];e[4]=aE[4];e[5]=aE[5];e[6]=+(aE[6]+aD);e[7]=+(aE[7]+aC);break;case"V":e[1]=+aE[1]+aC;break;case"H":e[1]=+aE[1]+aD;break;case"M":aG=+aE[1]+aD;aF=+aE[2]+aC;default:for(var ay=1,aA=aE[B];ay<aA;ay++){e[ay]=+aE[ay]+((ay%2)?aD:aC)}}}else{for(var ax=0,E=aE[B];ax<E;ax++){aB[az][ax]=aE[ax]}}switch(e[0]){case"Z":aD=aG;aC=aF;break;case"H":aD=e[1];break;case"V":aC=e[1];break;default:aD=aB[az][aB[az][B]-2];aC=aB[az][aB[az][B]-1]}}aB[k]=m._path2string;return aB},null,G),l=function(i,R,e,E){return[i,R,e,E,e,E]},M=function(i,R,aA,aw,e,E){var az=1/3,aB=2/3;return[az*i+aB*aA,az*R+aB*aw,az*e+aB*aA,az*E+aB*aw,e,E]},D=function(aH,bb,aQ,aO,aI,aC,ax,aG,ba,aJ){var aw=Math.PI,aN=aw*120/180,e=aw/180*(+aI||0),aU=[],aR,a7=au(function(bc,bf,i){var be=bc*Math.cos(i)-bf*Math.sin(i),bd=bc*Math.sin(i)+bf*Math.cos(i);return{x:be,y:bd}});if(!aJ){aR=a7(aH,bb,-e);aH=aR.x;bb=aR.y;aR=a7(aG,ba,-e);aG=aR.x;ba=aR.y;var E=Math.cos(aw/180*aI),aE=Math.sin(aw/180*aI),aW=(aH-aG)/2,aV=(bb-ba)/2;aQ=t(aQ,Math.abs(aW));aO=t(aO,Math.abs(aV));var R=aQ*aQ,aZ=aO*aO,a1=(aC==ax?-1:1)*Math.sqrt(Math.abs((R*aZ-R*aV*aV-aZ*aW*aW)/(R*aV*aV+aZ*aW*aW))),aL=a1*aQ*aV/aO+(aH+aG)/2,aK=a1*-aO*aW/aQ+(bb+ba)/2,aB=Math.asin((bb-aK)/aO),aA=Math.asin((ba-aK)/aO);aB=aH<aL?aw-aB:aB;aA=aG<aL?aw-aA:aA;aB<0&&(aB=aw*2+aB);aA<0&&(aA=aw*2+aA);if(ax&&aB>aA){aB=aB-aw*2}if(!ax&&aA>aB){aA=aA-aw*2}}else{aB=aJ[0];aA=aJ[1];aL=aJ[2];aK=aJ[3]}var aF=aA-aB;if(Math.abs(aF)>aN){var aM=aA,aP=aG,aD=ba;aA=aB+aN*(ax&&aA>aB?1:-1);aG=aL+aQ*Math.cos(aA);ba=aK+aO*Math.sin(aA);aU=D(aG,ba,aQ,aO,aI,0,ax,aP,aD,[aA,aM,aL,aK])}aF=aA-aB;var az=Math.cos(aB),a9=Math.sin(aB),ay=Math.cos(aA),a8=Math.sin(aA),aX=Math.tan(aF/4),a0=4/3*aQ*aX,aY=4/3*aO*aX,a6=[aH,bb],a5=[aH+a0*a9,bb-aY*az],a4=[aG+a0*a8,ba-aY*ay],a2=[aG,ba];a5[0]=2*a6[0]-a5[0];a5[1]=2*a6[1]-a5[1];if(aJ){return[a5,a4,a2][L](aU)}else{aU=[a5,a4,a2][L](aU)[v](",")[J](",");var aS=[];for(var a3=0,aT=aU[B];a3<aT;a3++){aS[a3]=a3%2?a7(aU[a3-1],aU[a3],e).y:a7(aU[a3],aU[a3+1],e).x}return aS}},Q=au(function(i,e,aM,aK,az,aw,aB,aA,aG){var aE=N(1-aG,3)*i+N(1-aG,2)*3*aG*aM+(1-aG)*3*aG*aG*az+N(aG,3)*aB,aC=N(1-aG,3)*e+N(1-aG,2)*3*aG*aK+(1-aG)*3*aG*aG*aw+N(aG,3)*aA,aI=i+2*aG*(aM-i)+aG*aG*(az-2*aM+i),aH=e+2*aG*(aK-e)+aG*aG*(aw-2*aK+e),aL=aM+2*aG*(az-aM)+aG*aG*(aB-2*az+aM),aJ=aK+2*aG*(aw-aK)+aG*aG*(aA-2*aw+aK),aF=(1-aG)*i+aG*aM,aD=(1-aG)*e+aG*aK,R=(1-aG)*az+aG*aB,E=(1-aG)*aw+aG*aA;return{x:aE,y:aC,m:{x:aI,y:aH},n:{x:aL,y:aJ},start:{x:aF,y:aD},end:{x:R,y:E}}}),ad=au(function(i,e,R,E,aI,aH,aE,aB){var aG=(aI-2*R+i)-(aE-2*aI+R),aD=2*(R-i)-2*(aI-R),aA=i-R,ay=(-aD+Math.sqrt(aD*aD-4*aG*aA))/2/aG,aw=(-aD-Math.sqrt(aD*aD-4*aG*aA))/2/aG,aC=[e,aB],aF=[i,aE],az=Q(i,e,R,E,aI,aH,aE,aB,ay>0&&ay<1?ay:0),ax=Q(i,e,R,E,aI,aH,aE,aB,aw>0&&aw<1?aw:0);aF=aF[L](az.x,ax.x);aC=aC[L](az.y,ax.y);aG=(aH-2*E+e)-(aB-2*aH+E);aD=2*(E-e)-2*(aH-E);aA=e-E;ay=(-aD+Math.sqrt(aD*aD-4*aG*aA))/2/aG;aw=(-aD-Math.sqrt(aD*aD-4*aG*aA))/2/aG;az=Q(i,e,R,E,aI,aH,aE,aB,ay>0&&ay<1?ay:0);ax=Q(i,e,R,E,aI,aH,aE,aB,aw>0&&aw<1?aw:0);aF=aF[L](az.x,ax.x);aC=aC[L](az.y,ax.y);return{min:{x:X[aq](0,aF),y:X[aq](0,aC)},max:{x:t[aq](0,aF),y:t[aq](0,aC)}}}),ai=au(function(aH,aC){var aw=K(aH),aD=aC&&K(aC),aE={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ay=function(aI,aJ){var i,aK;if(!aI){return["C",aJ.x,aJ.y,aJ.x,aJ.y,aJ.x,aJ.y]}!(aI[0] in {T:1,Q:1})&&(aJ.qx=aJ.qy=null);switch(aI[0]){case"M":aJ.X=aI[1];aJ.Y=aI[2];break;case"A":aI=["C"][L](D[aq](0,[aJ.x,aJ.y][L](aI.slice(1))));break;case"S":i=aJ.x+(aJ.x-(aJ.bx||aJ.x));aK=aJ.y+(aJ.y-(aJ.by||aJ.y));aI=["C",i,aK][L](aI.slice(1));break;case"T":aJ.qx=aJ.x+(aJ.x-(aJ.qx||aJ.x));aJ.qy=aJ.y+(aJ.y-(aJ.qy||aJ.y));aI=["C"][L](M(aJ.x,aJ.y,aJ.qx,aJ.qy,aI[1],aI[2]));break;case"Q":aJ.qx=aI[1];aJ.qy=aI[2];aI=["C"][L](M(aJ.x,aJ.y,aI[1],aI[2],aI[3],aI[4]));break;case"L":aI=["C"][L](l(aJ.x,aJ.y,aI[1],aI[2]));break;case"H":aI=["C"][L](l(aJ.x,aJ.y,aI[1],aJ.y));break;case"V":aI=["C"][L](l(aJ.x,aJ.y,aJ.x,aI[1]));break;case"Z":aI=["C"][L](l(aJ.x,aJ.y,aJ.X,aJ.Y));break}return aI},E=function(aI,aJ){if(aI[aJ][B]>7){aI[aJ].shift();var aK=aI[aJ];while(aK[B]){aI.splice(aJ++,0,["C"][L](aK.splice(0,6)))}aI.splice(aJ,1);aF=t(aw[B],aD&&aD[B]||0)}},R=function(aM,aL,aJ,aI,aK){if(aM&&aL&&aM[aK][0]=="M"&&aL[aK][0]!="M"){aL.splice(aK,0,["M",aI.x,aI.y]);aJ.bx=0;aJ.by=0;aJ.x=aM[aK][1];aJ.y=aM[aK][2];aF=t(aw[B],aD&&aD[B]||0)}};for(var aA=0,aF=t(aw[B],aD&&aD[B]||0);aA<aF;aA++){aw[aA]=ay(aw[aA],aE);E(aw,aA);aD&&(aD[aA]=ay(aD[aA],e));aD&&E(aD,aA);R(aw,aD,aE,e,aA);R(aD,aw,e,aE,aA);var az=aw[aA],aG=aD&&aD[aA],ax=az[B],aB=aD&&aG[B];aE.x=az[ax-2];aE.y=az[ax-1];aE.bx=b(az[ax-4])||aE.x;aE.by=b(az[ax-3])||aE.y;e.bx=aD&&(b(aG[aB-4])||e.x);e.by=aD&&(b(aG[aB-3])||e.y);e.x=aD&&aG[aB-2];e.y=aD&&aG[aB-1]}return aD?[aw,aD]:aw},null,G),z=au(function(aB){var aA=[];for(var ax=0,aC=aB[B];ax<aC;ax++){var e={},az=aB[ax].match(/^([^:]*):?([\d\.]*)/);e.color=m.getRGB(az[1]);if(e.color.error){return null}e.color=e.color.hex;az[2]&&(e.offset=az[2]+"%");aA[ag](e)}for(var ax=1,aC=aA[B]-1;ax<aC;ax++){if(!aA[ax].offset){var E=b(aA[ax-1].offset||0),R=0;for(var aw=ax+1;aw<aC;aw++){if(aA[aw].offset){R=aA[aw].offset;break}}if(!R){R=100;aw=aC}R=b(R);var ay=(R-E)/(aw-ax+1);for(;ax<aw;ax++){E+=ay;aA[ax].offset=E+"%"}}}return aA}),Z=function(){var E,i,aw,R,e;if(m.is(arguments[0],"string")||m.is(arguments[0],"object")){if(m.is(arguments[0],"string")){E=n.getElementById(arguments[0])}else{E=arguments[0]}if(E.tagName){if(arguments[1]==null){return{container:E,width:E.style.pixelWidth||E.offsetWidth,height:E.style.pixelHeight||E.offsetHeight}}else{return{container:E,width:arguments[1],height:arguments[2]}}}}else{if(m.is(arguments[0],aj)&&arguments[B]>3){return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}}}},a=function(e,E){var i=this;for(var R in E){if(E[j](R)&&!(R in e)){switch(typeof E[R]){case"function":(function(aw){e[R]=e===i?aw:function(){return aw[aq](i,arguments)}})(E[R]);break;case"object":e[R]=e[R]||{};a.call(this,e[R],E[R]);break;default:e[R]=E[R];break}}}};if(m.svg){f.svgns="http://www.w3.org/2000/svg";f.xlink="http://www.w3.org/1999/xlink";var ak=function(e){return +e+(~~e===e)*0.5};var P=function(ax){for(var E=0,R=ax[B];E<R;E++){if(ax[E][0].toLowerCase()!="a"){for(var e=1,aw=ax[E][B];e<aw;e++){ax[E][e]=ak(ax[E][e])}}else{ax[E][6]=ak(ax[E][6]);ax[E][7]=ak(ax[E][7])}}return ax};var S=function(E,e){if(e){for(var i in e){if(e[j](i)){E[g](i,e[i])}}}else{return n.createElementNS(f.svgns,E)}};m[k]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var at=function(e,R){var i=S("path");R.canvas&&R.canvas[c](i);var E=new u(i,R);E.type="path";Y(E,{fill:"none",stroke:"#000",path:e});return E};var ah=function(R,aF,e){var aC="linear",az=0.5,ax=0.5,aH=R.style;aF=(aF+y)[T](/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(aI,i,aJ){aC="radial";if(i&&aJ){az=b(i);ax=b(aJ);if(N(az-0.5,2)+N(ax-0.5,2)>0.25){ax=Math.sqrt(0.25-N(az-0.5,2))+0.5}}return y});aF=aF[J](/\s*\-\s*/);if(aC=="linear"){var ay=aF.shift();ay=-b(ay);if(isNaN(ay)){return null}var aw=[0,0,Math.cos(ay*Math.PI/180),Math.sin(ay*Math.PI/180)],aE=1/(t(Math.abs(aw[2]),Math.abs(aw[3]))||1);aw[2]*=aE;aw[3]*=aE;if(aw[2]<0){aw[0]=-aw[2];aw[2]=0}if(aw[3]<0){aw[1]=-aw[3];aw[3]=0}}var aB=z(aF);if(!aB){return null}var E=S(aC+"Gradient");E.id="r"+(m.idGenerator++)[k](36);aC=="radial"?S(E,{fx:az,fy:ax}):S(E,{x1:aw[0],y1:aw[1],x2:aw[2],y2:aw[3]});e.defs[c](E);for(var aA=0,aG=aB[B];aA<aG;aA++){var aD=S("stop");S(aD,{offset:aB[aA].offset?aB[aA].offset:!aA?"0%":"100%","stop-color":aB[aA].color||"#fff"});E[c](aD)}S(R,{fill:"url(#"+E.id+")",opacity:1,"fill-opacity":1});aH.fill=y;aH.opacity=1;aH.fillOpacity=1;return 1};var F=function(i){var e=i.getBBox();S(i.pattern,{patternTransform:m.format("translate({0},{1})",e.x,e.y)})};var Y=function(aD,aM){var aG={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},aI=aD.node,aE=aD.attrs,aA=aD.attr("rotation"),ax=function(aT,aS){aS=aG[(aS+y).toLowerCase()];if(aS){var aQ=aT.attrs["stroke-width"]||"1",aO={round:aQ,square:aQ,butt:0}[aT.attrs["stroke-linecap"]||aM["stroke-linecap"]]||0,aR=[];var aP=aS[B];while(aP--){aR[aP]=aS[aP]*aQ+((aP%2)?1:-1)*aO}S(aI,{"stroke-dasharray":aR[v](",")})}};b(aA)&&aD.rotate(0,true);for(var aH in aM){if(aM[j](aH)){if(!(aH in C)){continue}var aF=aM[aH];aE[aH]=aF;switch(aH){case"href":case"title":case"target":var aK=aI.parentNode;if(aK.tagName.toLowerCase()!="a"){var R=S("a");aK.insertBefore(R,aI);R[c](aI);aK=R}aK.setAttributeNS(aD.paper.xlink,aH,aF);break;case"clip-rect":var i=(aF+y)[J](av);if(i[B]==4){aD.clip&&aD.clip.parentNode.parentNode.removeChild(aD.clip.parentNode);var E=S("clipPath"),aJ=S("rect");E.id="r"+(m.idGenerator++)[k](36);S(aJ,{x:i[0],y:i[1],width:i[2],height:i[3]});E[c](aJ);aD.paper.defs[c](E);S(aI,{"clip-path":"url(#"+E.id+")"});aD.clip=aJ}if(!aF){var aL=n.getElementById(aI.getAttribute("clip-path")[T](/(^url\(#|\)$)/g,y));aL&&aL.parentNode.removeChild(aL);S(aI,{"clip-path":y});delete aD.clip}break;case"path":if(aF&&aD.type=="path"){aE.path=P(K(aF));S(aI,{d:aE.path})}break;case"width":aI[g](aH,aF);if(aE.fx){aH="x";aF=aE.x}else{break}case"x":if(aE.fx){aF=-aE.x-(aE.width||0)}case"rx":if(aH=="rx"&&aD.type=="rect"){break}case"cx":aI[g](aH,aF);aD.pattern&&F(aD);break;case"height":aI[g](aH,aF);if(aE.fy){aH="y";aF=aE.y}else{break}case"y":if(aE.fy){aF=-aE.y-(aE.height||0)}case"ry":if(aH=="ry"&&aD.type=="rect"){break}case"cy":aI[g](aH,aF);aD.pattern&&F(aD);break;case"r":if(aD.type=="rect"){S(aI,{rx:aF,ry:aF})}else{aI[g](aH,aF)}break;case"src":if(aD.type=="image"){aI.setAttributeNS(aD.paper.xlink,"href",aF)}break;case"stroke-width":aI.style.strokeWidth=aF;aI[g](aH,aF);if(aE["stroke-dasharray"]){ax(aD,aE["stroke-dasharray"])}break;case"stroke-dasharray":ax(aD,aF);break;case"rotation":aA=aF;aD.rotate(aF,true);break;case"translation":var ay=(aF+y)[J](av);aD.translate((+ay[0]+1||2)-1,(+ay[1]+1||2)-1);break;case"scale":var ay=(aF+y)[J](av);aD.scale(+ay[0]||1,+ay[1]||+ay[0]||1,+ay[2]||null,+ay[3]||null);break;case"fill":var aw=(aF+y).match(/^url\(['"]?([^\)]+)['"]?\)$/i);if(aw){var E=S("pattern"),aC=S("image");E.id="r"+(m.idGenerator++)[k](36);S(E,{x:0,y:0,patternUnits:"userSpaceOnUse"});S(aC,{x:0,y:0});aC.setAttributeNS(aD.paper.xlink,"href",aw[1]);E[c](aC);var aN=n.createElement("img");aN.style.cssText="position:absolute;left:-9999em;top-9999em";aN.onload=function(){S(E,{width:this.offsetWidth,height:this.offsetHeight});S(aC,{width:this.offsetWidth,height:this.offsetHeight});n.body.removeChild(this);f.safari()};n.body[c](aN);aN.src=aw[1];aD.paper.defs[c](E);aI.style.fill="url(#"+E.id+")";S(aI,{fill:"url(#"+E.id+")"});aD.pattern=E;aD.pattern&&F(aD);break}if(!m.getRGB(aF).error){delete aM.gradient;delete aE.gradient;if(!m.is(aE.opacity,"undefined")&&m.is(aM.opacity,"undefined")){aI.style.opacity=aE.opacity;S(aI,{opacity:aE.opacity})}if(!m.is(aE["fill-opacity"],"undefined")&&m.is(aM["fill-opacity"],"undefined")){aI.style.fillOpacity=aE["fill-opacity"];S(aI,{"fill-opacity":aE["fill-opacity"]})}}else{if((aD.type in {circle:1,ellipse:1}||(aF+y).charAt(0)!="r")&&ah(aI,aF,aD.paper)){aE.gradient=aF;aE.fill="none";break}}case"stroke":aI.style[aH]=m.getRGB(aF).hex;aI[g](aH,m.getRGB(aF).hex);break;case"gradient":(aD.type in {circle:1,ellipse:1}||(aF+y).charAt(0)!="r")&&ah(aI,aF,aD.paper);break;case"opacity":case"fill-opacity":if(aE.gradient){var e=n.getElementById(aI.getAttribute("fill")[T](/^url\(#|\)$/g,y));if(e){var az=e.getElementsByTagName("stop");az[az[B]-1][g]("stop-opacity",aF)}break}default:aH=="font-size"&&(aF=w(aF,10)+"px");var aB=aH[T](/(\-.)/g,function(aO){return aO.substring(1).toUpperCase()});aI.style[aB]=aF;aI[g](aH,aF);break}}}ao(aD,aM);w(aA,10)&&aD.rotate(aA,true)};var ae=1.2;var ao=function(e,aw){if(e.type!="text"||!("text" in aw||"font" in aw||"font-size" in aw||"x" in aw||"y" in aw)){return}var aB=e.attrs,E=e.node,aD=E.firstChild?w(n.defaultView.getComputedStyle(E.firstChild,y).getPropertyValue("font-size"),10):10;if("text" in aw){while(E.firstChild){E.removeChild(E.firstChild)}var R=(aw.text+y)[J]("\n");for(var ax=0,aC=R[B];ax<aC;ax++){var az=S("tspan");ax&&S(az,{dy:aD*ae,x:aB.x});az[c](n.createTextNode(R[ax]));E[c](az)}}else{var R=E.getElementsByTagName("tspan");for(var ax=0,aC=R[B];ax<aC;ax++){ax&&S(R[ax],{dy:aD*ae,x:aB.x})}}S(E,{y:aB.y});var ay=e.getBBox(),aA=aB.y-(ay.y+ay.height/2);aA&&S(E,{y:aB.y+aA})};var u=function(i,e){var R=0,E=0;this[0]=i;this.node=i;i.raphael=this;this.paper=e;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1}};u[x].rotate=function(i,e,R){if(i==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](" ")}return this._.rt.deg}var E=this.getBBox();i=(i+y)[J](av);if(i[B]-1){e=b(i[1]);R=b(i[2])}i=b(i[0]);if(e!=null){this._.rt.deg=i}else{this._.rt.deg+=i}(R==null)&&(e=null);this._.rt.cx=e;this._.rt.cy=R;e=e==null?E.x+E.width/2:e;R=R==null?E.y+E.height/2:R;if(this._.rt.deg){this.transformations[0]=m.format("rotate({0} {1} {2})",this._.rt.deg,e,R);this.clip&&S(this.clip,{transform:m.format("rotate({0} {1} {2})",-this._.rt.deg,e,R)})}else{this.transformations[0]=y;this.clip&&S(this.clip,{transform:y})}S(this.node,{transform:this.transformations[v](" ")});return this};u[x].hide=function(){this.node.style.display="none";return this};u[x].show=function(){this.node.style.display="block";return this};u[x].remove=function(){this.node.parentNode.removeChild(this.node);for(var e in this){delete this[e]}};u[x].getBBox=function(){if(this.type=="path"){return V(this.attrs.path)}if(this.node.style.display=="none"){this.show();var R=true}var az={};try{az=this.node.getBBox()}catch(ax){}finally{az=az||{}}if(this.type=="text"){az={x:az.x,y:Infinity,width:0,height:0};for(var E=0,aw=this.node.getNumberOfChars();E<aw;E++){var ay=this.node.getExtentOfChar(E);(ay.y<az.y)&&(az.y=ay.y);(ay.y+ay.height-az.y>az.height)&&(az.height=ay.y+ay.height-az.y);(ay.x+ay.width-az.x>az.width)&&(az.width=ay.x+ay.width-az.x)}}R&&this.hide();return az};u[x].attr=function(){if(arguments[B]==1&&m.is(arguments[0],"string")){if(arguments[0]=="translation"){return this.translate()}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}return this.attrs[arguments[0]]}if(arguments[B]==1&&m.is(arguments[0],"array")){var e={};for(var i in arguments[0]){if(arguments[0][j](i)){e[arguments[0][i]]=this.attrs[arguments[0][i]]}}return e}if(arguments[B]==2){var E={};E[arguments[0]]=arguments[1];Y(this,E)}else{if(arguments[B]==1&&m.is(arguments[0],"object")){Y(this,arguments[0])}}return this};u[x].toFront=function(){this.node.parentNode[c](this.node);return this};u[x].toBack=function(){if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild)}return this};u[x].insertAfter=function(e){if(e.node.nextSibling){e.node.parentNode.insertBefore(this.node,e.node.nextSibling)}else{e.node.parentNode[c](this.node)}return this};u[x].insertBefore=function(e){var i=e.node;i.parentNode.insertBefore(this.node,i);return this};var U=function(i,e,ax,aw){e=ak(e);ax=ak(ax);var R=S("circle");i.canvas&&i.canvas[c](R);var E=new u(R,i);E.attrs={cx:e,cy:ax,r:aw,fill:"none",stroke:"#000"};E.type="circle";S(R,E.attrs);return E};var ac=function(E,e,az,i,ax,ay){e=ak(e);az=ak(az);var aw=S("rect");E.canvas&&E.canvas[c](aw);var R=new u(aw,E);R.attrs={x:e,y:az,width:i,height:ax,r:ay||0,rx:ay||0,ry:ay||0,fill:"none",stroke:"#000"};R.type="rect";S(aw,R.attrs);return R};var o=function(i,e,ay,ax,aw){e=ak(e);ay=ak(ay);var R=S("ellipse");i.canvas&&i.canvas[c](R);var E=new u(R,i);E.attrs={cx:e,cy:ay,rx:ax,ry:aw,fill:"none",stroke:"#000"};E.type="ellipse";S(R,E.attrs);return E};var A=function(E,ay,e,az,i,ax){var aw=S("image");S(aw,{x:e,y:az,width:i,height:ax,preserveAspectRatio:"none"});aw.setAttributeNS(E.xlink,"href",ay);E.canvas&&E.canvas[c](aw);var R=new u(aw,E);R.attrs={x:e,y:az,width:i,height:ax,src:ay};R.type="image";return R};var ab=function(i,e,ax,aw){var R=S("text");S(R,{x:e,y:ax,"text-anchor":"middle"});i.canvas&&i.canvas[c](R);var E=new u(R,i);E.attrs={x:e,y:ax,"text-anchor":"middle",text:aw,font:C.font,stroke:"none",fill:"#000"};E.type="text";Y(E,E.attrs);return E};var W=function(i,e){this.width=i||this.width;this.height=e||this.height;this.canvas[g]("width",this.width);this.canvas[g]("height",this.height);return this};var s=function(){var R=Z[aq](null,arguments),E=R&&R.container,i=R.x,az=R.y,aw=R.width,e=R.height;if(!E){throw new Error("SVG container not found.")}f.canvas=S("svg");var ay=f.canvas;f.width=aw||512;f.height=e||342;ay[g]("width",f.width);ay[g]("height",f.height);if(E==1){ay.style.cssText="position:absolute;left:"+i+"px;top:"+az+"px";n.body[c](ay)}else{if(E.firstChild){E.insertBefore(ay,E.firstChild)}else{E[c](ay)}}E={canvas:ay};for(var ax in f){if(f[j](ax)){E[ax]=f[ax]}}a.call(E,E,m.fn);E.clear();E.raphael=m;return E};f.clear=function(){var e=this.canvas;while(e.firstChild){e.removeChild(e.firstChild)}(this.desc=S("desc"))[c](n.createTextNode("Created with Rapha\u00ebl"));e[c](this.desc);e[c](this.defs=S("defs"))};f.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this){delete this[e]}}}if(m.vml){var O=function(aG){var aD=/[ahqtv]/ig,ay=K;(aG+y).match(aD)&&(ay=ai);aD=/[clmz]/g;if(ay==K&&!(aG+y).match(aD)){var E={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},aw=/([clmz]),?([^clmz]*)/gi,ax=/-?[^,\s-]+/g;var aC=(aG+y)[T](aw,function(aH,aJ,i){var aI=[];i[T](ax,function(aK){aI[ag](ak(aK))});return E[aJ]+aI});return aC}var aE=ay(aG),R,aC=[],e;for(var aA=0,aF=aE[B];aA<aF;aA++){R=aE[aA];e=(aE[aA][0]+y).toLowerCase();e=="z"&&(e="x");for(var az=1,aB=R[B];az<aB;az++){e+=ak(R[az])+(az!=aB-1?",":y)}aC[ag](e)}return aC[v](" ")};m[k]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var at=function(e,ax){var R=ar("group");R.style.cssText="position:absolute;left:0;top:0;width:"+ax.width+"px;height:"+ax.height+"px";R.coordsize=ax.coordsize;R.coordorigin=ax.coordorigin;var E=ar("shape"),i=E.style;i.width=ax.width+"px";i.height=ax.height+"px";E.coordsize=this.coordsize;E.coordorigin=this.coordorigin;R[c](E);var aw=new u(E,R,ax);aw.isAbsolute=true;aw.type="path";aw.path=[];aw.Path=y;e&&Y(aw,{fill:"none",stroke:"#000",path:e});ax.canvas[c](R);return aw};var Y=function(aB,aF){aB.attrs=aB.attrs||{};var aD=aB.node,aG=aB.attrs,ay=aD.style,R,aK=aB;for(var az in aF){if(aF[j](az)){aG[az]=aF[az]}}aF.href&&(aD.href=aF.href);aF.title&&(aD.title=aF.title);aF.target&&(aD.target=aF.target);if(aF.path&&aB.type=="path"){aG.path=aF.path;aD.path=O(aG.path)}if(aF.rotation!=null){aB.rotate(aF.rotation,true)}if(aF.translation){R=(aF.translation+y)[J](av);aB.translate(R[0],R[1])}if(aF.scale){R=(aF.scale+y)[J](av);aB.scale(+R[0]||1,+R[1]||+R[0]||1,+R[2]||null,+R[3]||null)}if("clip-rect" in aF){var e=(aF["clip-rect"]+y)[J](av);if(e[B]==4){e[2]=+e[2]+(+e[0]);e[3]=+e[3]+(+e[1]);var aA=aD.clipRect||n.createElement("div"),aJ=aA.style,ax=aD.parentNode;aJ.clip=m.format("rect({1}px {2}px {3}px {0}px)",e);if(!aD.clipRect){aJ.position="absolute";aJ.top=0;aJ.left=0;aJ.width=aB.paper.width+"px";aJ.height=aB.paper.height+"px";ax.parentNode.insertBefore(aA,ax);aA[c](ax);aD.clipRect=aA}}if(!aF["clip-rect"]){aD.clipRect&&(aD.clipRect.style.clip=y)}}if(aB.type=="image"&&aF.src){aD.src=aF.src}if(aB.type=="image"&&aF.opacity){aD.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+(aF.opacity*100)+")";ay.filter=(aD.filterMatrix||y)+(aD.filterOpacity||y)}aF.font&&(ay.font=aF.font);aF["font-family"]&&(ay.fontFamily='"'+aF["font-family"][J](",")[0][T](/^['"]+|['"]+$/g,y)+'"');aF["font-size"]&&(ay.fontSize=aF["font-size"]);aF["font-weight"]&&(ay.fontWeight=aF["font-weight"]);aF["font-style"]&&(ay.fontStyle=aF["font-style"]);if(aF.opacity!=null||aF["stroke-width"]!=null||aF.fill!=null||aF.stroke!=null||aF["stroke-width"]!=null||aF["stroke-opacity"]!=null||aF["fill-opacity"]!=null||aF["stroke-dasharray"]!=null||aF["stroke-miterlimit"]!=null||aF["stroke-linejoin"]!=null||aF["stroke-linecap"]!=null){aD=aB.shape||aD;var aE=(aD.getElementsByTagName("fill")&&aD.getElementsByTagName("fill")[0]),aH=false;!aE&&(aH=aE=ar("fill"));if("fill-opacity" in aF||"opacity" in aF){var i=((+aG["fill-opacity"]+1||2)-1)*((+aG.opacity+1||2)-1);i<0&&(i=0);i>1&&(i=1);aE.opacity=i}aF.fill&&(aE.on=true);if(aE.on==null||aF.fill=="none"){aE.on=false}if(aE.on&&aF.fill){var E=aF.fill.match(/^url\(([^\)]+)\)$/i);if(E){aE.src=E[1];aE.type="tile"}else{aE.color=m.getRGB(aF.fill).hex;aE.src=y;aE.type="solid";if(m.getRGB(aF.fill).error&&(aK.type in {circle:1,ellipse:1}||(aF.fill+y).charAt(0)!="r")&&ah(aK,aF.fill)){aG.fill="none";aG.gradient=aF.fill}}}aH&&aD[c](aE);var aw=(aD.getElementsByTagName("stroke")&&aD.getElementsByTagName("stroke")[0]),aI=false;!aw&&(aI=aw=ar("stroke"));if((aF.stroke&&aF.stroke!="none")||aF["stroke-width"]||aF["stroke-opacity"]!=null||aF["stroke-dasharray"]||aF["stroke-miterlimit"]||aF["stroke-linejoin"]||aF["stroke-linecap"]){aw.on=true}(aF.stroke=="none"||aw.on==null||aF.stroke==0||aF["stroke-width"]==0)&&(aw.on=false);aw.on&&aF.stroke&&(aw.color=m.getRGB(aF.stroke).hex);var i=((+aG["stroke-opacity"]+1||2)-1)*((+aG.opacity+1||2)-1);i<0&&(i=0);i>1&&(i=1);aw.opacity=i;aF["stroke-linejoin"]&&(aw.joinstyle=aF["stroke-linejoin"]||"miter");aw.miterlimit=aF["stroke-miterlimit"]||8;aF["stroke-linecap"]&&(aw.endcap={butt:"flat",square:"square",round:"round"}[aF["stroke-linecap"]]||"miter");aF["stroke-width"]&&(aw.weight=(b(aF["stroke-width"])||1)*12/16);if(aF["stroke-dasharray"]){var aC={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};aw.dashstyle=aC[aF["stroke-dasharray"]]||y}aI&&aD[c](aw)}if(aK.type=="text"){var ay=aK.paper.span.style;aG.font&&(ay.font=aG.font);aG["font-family"]&&(ay.fontFamily=aG["font-family"]);aG["font-size"]&&(ay.fontSize=aG["font-size"]);aG["font-weight"]&&(ay.fontWeight=aG["font-weight"]);aG["font-style"]&&(ay.fontStyle=aG["font-style"]);aK.node.string&&(aK.paper.span.innerHTML=(aK.node.string+y)[T](/</g,"&#60;")[T](/&/g,"&#38;")[T](/\n/g,"<br>"));aK.W=aG.w=aK.paper.span.offsetWidth;aK.H=aG.h=aK.paper.span.offsetHeight;aK.X=aG.x;aK.Y=aG.y+ak(aK.H/2);switch(aG["text-anchor"]){case"start":aK.node.style["v-text-align"]="left";aK.bbx=ak(aK.W/2);break;case"end":aK.node.style["v-text-align"]="right";aK.bbx=-ak(aK.W/2);break;default:aK.node.style["v-text-align"]="center";break}}};var ah=function(e,az){e.attrs=e.attrs||{};var aA=e.attrs,aC=e.node.getElementsByTagName("fill"),ax="linear",ay=".5 .5";e.attrs.gradient=az;az=(az+y)[T](/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(aE,aF,i){ax="radial";if(aF&&i){aF=b(aF);i=b(i);if(N(aF-0.5,2)+N(i-0.5,2)>0.25){i=Math.sqrt(0.25-N(aF-0.5,2))+0.5}ay=aF+" "+i}return y});az=az[J](/\s*\-\s*/);if(ax=="linear"){var E=az.shift();E=-b(E);if(isNaN(E)){return null}}var aw=z(az);if(!aw){return null}e=e.shape||e.node;aC=aC[0]||ar("fill");if(aw[B]){aC.on=true;aC.method="none";aC.type=(ax=="radial")?"gradientradial":"gradient";aC.color=aw[0].color;aC.color2=aw[aw[B]-1].color;var aD=[];for(var R=0,aB=aw[B];R<aB;R++){aw[R].offset&&aD[ag](aw[R].offset+" "+aw[R].color)}if(aD[B]&&aC.colors){aC.colors.value=aD[v](",")}else{aC.colors.value="0% "+aC.color}if(ax=="radial"){aC.focus="100%";aC.focussize=ay;aC.focusposition=ay}else{aC.angle=(270-E)%360}}return 1};var u=function(aw,ay,e){var ax=0,E=0,i=0,R=1;this[0]=aw;this.node=aw;aw.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=ay;this.paper=e;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1}};u[x].rotate=function(i,e,E){if(i==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](" ")}return this._.rt.deg}i=(i+y)[J](av);if(i[B]-1){e=b(i[1]);E=b(i[2])}i=b(i[0]);if(e!=null){this._.rt.deg=i}else{this._.rt.deg+=i}E==null&&(e=null);this._.rt.cx=e;this._.rt.cy=E;this.setBox(this.attrs,e,E);this.Group.style.rotation=this._.rt.deg;return this};u[x].setBox=function(ax,ay,aw){var E=this.Group.style,az=(this.shape&&this.shape.style)||this.node.style;ax=ax||{};for(var aA in ax){if(ax[j](aA)){this.attrs[aA]=ax[aA]}}ay=ay||this._.rt.cx;aw=aw||this._.rt.cy;var aD=this.attrs,aG,aF,aH,aC;switch(this.type){case"circle":aG=aD.cx-aD.r;aF=aD.cy-aD.r;aH=aC=aD.r*2;break;case"ellipse":aG=aD.cx-aD.rx;aF=aD.cy-aD.ry;aH=aD.rx*2;aC=aD.ry*2;break;case"rect":case"image":aG=+aD.x;aF=+aD.y;aH=aD.width||0;aC=aD.height||0;break;case"text":this.textpath.v=["m",ak(aD.x),", ",ak(aD.y-2),"l",ak(aD.x)+1,", ",ak(aD.y-2)][v](y);aG=aD.x-ak(this.W/2);aF=aD.y-this.H/2;aH=this.W;aC=this.H;break;case"path":if(!this.attrs.path){aG=0;aF=0;aH=this.paper.width;aC=this.paper.height}else{var aB=V(this.attrs.path);aG=aB.x;aF=aB.y;aH=aB.width;aC=aB.height}break;default:aG=0;aF=0;aH=this.paper.width;aC=this.paper.height;break}ay=(ay==null)?aG+aH/2:ay;aw=(aw==null)?aF+aC/2:aw;var R=ay-this.paper.width/2,aE=aw-this.paper.height/2;if(this.type=="path"||this.type=="text"){(E.left!=R+"px")&&(E.left=R+"px");(E.top!=aE+"px")&&(E.top=aE+"px");this.X=this.type=="text"?aG:-R;this.Y=this.type=="text"?aF:-aE;this.W=aH;this.H=aC;(az.left!=-R+"px")&&(az.left=-R+"px");(az.top!=-aE+"px")&&(az.top=-aE+"px")}else{(E.left!=R+"px")&&(E.left=R+"px");(E.top!=aE+"px")&&(E.top=aE+"px");this.X=aG;this.Y=aF;this.W=aH;this.H=aC;(E.width!=this.paper.width+"px")&&(E.width=this.paper.width+"px");(E.height!=this.paper.height+"px")&&(E.height=this.paper.height+"px");(az.left!=aG-R+"px")&&(az.left=aG-R+"px");(az.top!=aF-aE+"px")&&(az.top=aF-aE+"px");(az.width!=aH+"px")&&(az.width=aH+"px");(az.height!=aC+"px")&&(az.height=aC+"px");var aI=(+ax.r||0)/(X(aH,aC));if(this.type=="rect"&&this.arcsize!=aI&&(aI||this.arcsize)){var e=ar(aI?"roundrect":"rect");e.arcsize=aI;this.Group[c](e);this.node.parentNode.removeChild(this.node);this.node=e;this.arcsize=aI;Y(this,this.attrs);this.setBox(this.attrs)}}};u[x].hide=function(){this.Group.style.display="none";return this};u[x].show=function(){this.Group.style.display="block";return this};u[x].getBBox=function(){if(this.type=="path"){return V(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};u[x].remove=function(){this.node.parentNode.removeChild(this[0]);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this){delete this[e]}};u[x].attr=function(){if(arguments[B]==1&&m.is(arguments[0],"string")){if(arguments[0]=="translation"){return this.translate()}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}return this.attrs[arguments[0]]}if(this.attrs&&arguments[B]==1&&m.is(arguments[0],"array")){var e={};for(var E=0,R=arguments[0][B];E<R;E++){e[arguments[0][E]]=this.attrs[arguments[0][E]]}return e}var aw;if(arguments[B]==2){aw={};aw[arguments[0]]=arguments[1]}if(arguments[B]==1&&m.is(arguments[0],"object")){aw=arguments[0]}if(aw){if(aw.gradient&&(this.type in {circle:1,ellipse:1}||(aw.gradient+y).charAt(0)!="r")){ah(this,aw.gradient)}if(aw.text&&this.type=="text"){this.node.string=aw.text}Y(this,aw);this.setBox(this.attrs)}return this};u[x].toFront=function(){this.Group.parentNode[c](this.Group);return this};u[x].toBack=function(){if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild)}return this};u[x].insertAfter=function(e){if(e.Group.nextSibling){e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling)}else{e.Group.parentNode[c](this.Group)}return this};u[x].insertBefore=function(e){e.Group.parentNode.insertBefore(this.Group,e.Group);return this};var U=function(i,e,az,ax){var aw=ar("group"),ay=ar("oval"),E=ay.style;aw.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";aw.coordsize=i.coordsize;aw.coordorigin=i.coordorigin;aw[c](ay);var R=new u(ay,aw,i);R.type="circle";Y(R,{stroke:"#000",fill:"none"});R.attrs.cx=e;R.attrs.cy=az;R.attrs.r=ax;R.setBox({x:e-ax,y:az-ax,width:ax*2,height:ax*2});i.canvas[c](aw);return R};var ac=function(i,az,ay,aA,R,e){var aw=ar("group"),E=ar(e?"roundrect":"rect"),aB=(+e||0)/(X(aA,R));E.arcsize=aB;aw.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";aw.coordsize=i.coordsize;aw.coordorigin=i.coordorigin;aw[c](E);var ax=new u(E,aw,i);ax.type="rect";Y(ax,{stroke:"#000"});ax.arcsize=aB;ax.setBox({x:az,y:ay,width:aA,height:R,r:+e});i.canvas[c](aw);return ax};var o=function(e,aA,az,E,i){var aw=ar("group"),R=ar("oval"),ay=R.style;aw.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";aw.coordsize=e.coordsize;aw.coordorigin=e.coordorigin;aw[c](R);var ax=new u(R,aw,e);ax.type="ellipse";Y(ax,{stroke:"#000"});ax.attrs.cx=aA;ax.attrs.cy=az;ax.attrs.rx=E;ax.attrs.ry=i;ax.setBox({x:aA-E,y:az-i,width:E*2,height:i*2});e.canvas[c](aw);return ax};var A=function(i,e,aA,az,aB,R){var aw=ar("group"),E=ar("image"),ay=E.style;aw.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";aw.coordsize=i.coordsize;aw.coordorigin=i.coordorigin;E.src=e;aw[c](E);var ax=new u(E,aw,i);ax.type="image";ax.attrs.src=e;ax.attrs.x=aA;ax.attrs.y=az;ax.attrs.w=aB;ax.attrs.h=R;ax.setBox({x:aA,y:az,width:aB,height:R});i.canvas[c](aw);return ax};var ab=function(i,aA,az,aB){var aw=ar("group"),R=ar("shape"),ay=R.style,aC=ar("path"),e=aC.style,E=ar("textpath");aw.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";aw.coordsize=i.coordsize;aw.coordorigin=i.coordorigin;aC.v=m.format("m{0},{1}l{2},{1}",ak(aA),ak(az),ak(aA)+1);aC.textpathok=true;ay.width=i.width;ay.height=i.height;E.string=aB;E.on=true;R[c](E);R[c](aC);aw[c](R);var ax=new u(E,aw,i);ax.shape=R;ax.textpath=aC;ax.type="text";ax.attrs.text=aB;ax.attrs.x=aA;ax.attrs.y=az;ax.attrs.w=1;ax.attrs.h=1;Y(ax,{font:C.font,stroke:"none",fill:"#000"});ax.setBox();i.canvas[c](aw);return ax};var W=function(E,e){var i=this.canvas.style;this.width=b(E||this.width);this.height=b(e||this.height);i.width=this.width+"px";i.height=this.height+"px";i.clip="rect(0 "+this.width+"px "+this.height+"px 0)";this.coordsize=this.width+" "+this.height;return this};n.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!n.namespaces.rvml&&n.namespaces.add("rvml","urn:schemas-microsoft-com:vml");var ar=function(e){return n.createElement("<rvml:"+e+' class="rvml">')}}catch(ap){var ar=function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var s=function(){var R=Z[aq](null,arguments),i=R.container,aB=R.height,aC,E=R.width,aA=R.x,az=R.y;if(!i){throw new Error("VML container not found.")}var ax={},ay=ax.canvas=n.createElement("div"),aw=ay.style;E=b(E)||512;aB=b(aB)||342;ax.width=E;ax.height=aB;ax.coordsize=E+" "+aB;ax.coordorigin="0 0";ax.span=n.createElement("span");ax.span.style.cssText="position:absolute;left:-9999px;top:-9999px;padding:0;margin:0;line-height:1;display:inline;";ay[c](ax.span);aw.cssText=m.format("width:{0}px;height:{1}px;position:absolute;clip:rect(0 {0}px {1}px 0)",E,aB);if(i==1){n.body[c](ay);aw.left=aA+"px";aw.top=az+"px";i={style:{width:E,height:aB}}}else{i.style.width=E;i.style.height=aB;if(i.firstChild){i.insertBefore(ay,i.firstChild)}else{i[c](ay)}}for(var e in f){if(f[j](e)){ax[e]=f[e]}}a.call(ax,ax,m.fn);ax.clear=function(){while(ay.firstChild){ay.removeChild(ay.firstChild)}};ax.raphael=m;return ax};f.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this){delete this[e]}}}if({"Apple Computer, Inc.":1,"Google Inc.":1}[navigator.vendor]){f.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){e.remove()})}}else{f.safari=function(){}}var p=(function(){if(n.addEventListener){return function(aw,E,i,e){var R=function(ax){return i.call(e,ax)};aw.addEventListener(E,R,false);return function(){aw.removeEventListener(E,R,false);return true}}}else{if(n.attachEvent){return function(ax,R,E,i){var aw=function(ay){return E.call(i,ay||af.event)};ax.attachEvent("on"+R,aw);var e=function(){ax.detachEvent("on"+R,aw);return true};if(R=="mouseover"){ax.attachEvent("onmouseenter",aw);return function(){ax.detachEvent("onmouseenter",aw);return e()}}else{if(R=="mouseout"){ax.attachEvent("onmouseleave",aw);return function(){ax.detachEvent("onmouseleave",aw);return e()}}}return e}}}})();for(var am=I[B];am--;){(function(e){u[x][e]=function(i){if(m.is(i,"function")){this.events=this.events||{};this.events[e]=this.events[e]||{};this.events[e][i]=this.events[e][i]||[];this.events[e][i][ag](p(this.shape||this.node,e,i,this))}return this};u[x]["un"+e]=function(i){this.events&&this.events[e]&&this.events[e][i]&&this.events[e][i][B]&&this.events[e][i].shift()()&&!this.events[e][i][B]&&delete this.events[e][i]}})(I[am])}f.circle=function(e,E,i){return U(this,e||0,E||0,i||0)};f.rect=function(e,aw,i,E,R){return ac(this,e||0,aw||0,i||0,E||0,R||0)};f.ellipse=function(e,R,E,i){return o(this,e||0,R||0,E||0,i||0)};f.path=function(e){e&&!m.is(e,"string")&&!m.is(e[0],"array")&&(e+=y);return at(m.format[aq](m,arguments),this)};f.image=function(R,e,aw,i,E){return A(this,R||"about:blank",e||0,aw||0,i||0,E||0)};f.text=function(e,E,i){return ab(this,e||0,E||0,i||y)};f.set=function(e){arguments[B]>1&&(e=Array[x].splice.call(arguments,0,arguments[B]));return new q(e)};f.setSize=W;u[x].stop=function(){clearTimeout(this.animation_in_progress);return this};u[x].scale=function(aG,aF,R,E){if(aG==null&&aF==null){return{x:this._.sx,y:this._.sy,toString:function(){return this.x+" "+this.y}}}aF=aF||aG;!+aF&&(aF=aG);var aK,aI,aJ,aH,aW=this.attrs;if(aG!=0){var aD=this.getBBox(),aA=aD.x+aD.width/2,ax=aD.y+aD.height/2,aV=aG/this._.sx,aU=aF/this._.sy;R=(+R||R==0)?R:aA;E=(+E||E==0)?E:ax;var aC=~~(aG/Math.abs(aG)),az=~~(aF/Math.abs(aF)),aN=this.node.style,aY=R+(aA-R)*aC*aV,aX=E+(ax-E)*az*aU;switch(this.type){case"rect":case"image":var aB=aW.width*aC*aV,aM=aW.height*az*aU,aE=aW.r*X(aV,aU),ay=aY-aB/2,aw=aX-aM/2;this.attr({width:aB,height:aM,x:ay,y:aw,r:aE});break;case"circle":case"ellipse":this.attr({rx:aW.rx*aV,ry:aW.ry*aU,r:aW.r*X(aV,aU),cx:aY,cy:aX});break;case"path":var aP=h(aW.path),aQ=true;for(var aS=0,aL=aP[B];aS<aL;aS++){var aO=aP[aS];if(aO[0].toUpperCase()=="M"&&aQ){continue}else{aQ=false}if(m.svg&&aO[0].toUpperCase()=="A"){aO[aP[aS][B]-2]*=aV;aO[aP[aS][B]-1]*=aU;aO[1]*=aV;aO[2]*=aU;aO[5]=+(aC+az?!!+aO[5]:!+aO[5])}else{for(var aR=1,aT=aO[B];aR<aT;aR++){aO[aR]*=(aR%2)?aV:aU}}}var e=V(aP),aK=aY-e.x-e.width/2,aI=aX-e.y-e.height/2;aP[0][1]+=aK;aP[0][2]+=aI;this.attr({path:aP});break}if(this.type in {text:1,image:1}&&(aC!=1||az!=1)){if(this.transformations){this.transformations[2]="scale("[L](aC,",",az,")");this.node[g]("transform",this.transformations[v](" "));aK=(aC==-1)?-aW.x-(aB||0):aW.x;aI=(az==-1)?-aW.y-(aM||0):aW.y;this.attr({x:aK,y:aI});aW.fx=aC-1;aW.fy=az-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11="[L](aC,", M12=0, M21=0, M22=",az,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");aN.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)}}else{if(this.transformations){this.transformations[2]=y;this.node[g]("transform",this.transformations[v](" "));aW.fx=0;aW.fy=0}else{this.node.filterMatrix=y;aN.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)}}aW.scale=[aG,aF,R,E][v](" ");this._.sx=aG;this._.sy=aF}return this};m.easing_formulas={linear:function(e){return e},"<":function(e){return N(e,3)},">":function(e){return N(e-1,3)+1},"<>":function(e){e=e*2;if(e<1){return N(e,3)/2}e-=2;return(N(e,3)+2)/2},backIn:function(i){var e=1.70158;return i*i*((e+1)*i-e)},backOut:function(i){i=i-1;var e=1.70158;return i*i*((e+1)*i+e)+1},elastic:function(E){if(E==0||E==1){return E}var i=0.3,e=i/4;return N(2,-10*E)*Math.sin((E-e)*(2*Math.PI)/i)+1},bounce:function(R){var i=7.5625,E=2.75,e;if(R<(1/E)){e=i*R*R}else{if(R<(2/E)){R-=(1.5/E);e=i*R*R+0.75}else{if(R<(2.5/E)){R-=(2.25/E);e=i*R*R+0.9375}else{R-=(2.625/E);e=i*R*R+0.984375}}}return e}};u[x].animate=function(aO,aF,aE,aw){clearTimeout(this.animation_in_progress);if(m.is(aE,"function")||!aE){aw=aE||null}var aI={},E={},aC={},aB={x:0,y:0};for(var aG in aO){if(aO[j](aG)){if(aG in H){aI[aG]=this.attr(aG);(aI[aG]==null)&&(aI[aG]=C[aG]);E[aG]=aO[aG];switch(H[aG]){case"number":aC[aG]=(E[aG]-aI[aG])/aF;break;case"colour":aI[aG]=m.getRGB(aI[aG]);var aH=m.getRGB(E[aG]);aC[aG]={r:(aH.r-aI[aG].r)/aF,g:(aH.g-aI[aG].g)/aF,b:(aH.b-aI[aG].b)/aF};break;case"path":var ax=ai(aI[aG],E[aG]);aI[aG]=ax[0];E[aG]=ax[1];aC[aG]=[];for(var aK=0,aA=aI[aG][B];aK<aA;aK++){aC[aG][aK]=[0];for(var aJ=1,aM=aI[aG][aK][B];aJ<aM;aJ++){aC[aG][aK][aJ]=(E[aG][aK][aJ]-aI[aG][aK][aJ])/aF}}break;case"csv":var e=(aO[aG]+y)[J](av),az=(aI[aG]+y)[J](av);switch(aG){case"translation":aI[aG]=[0,0];aC[aG]=[e[0]/aF,e[1]/aF];break;case"rotation":aI[aG]=(az[1]==e[1]&&az[2]==e[2])?az:[0,e[1],e[2]];aC[aG]=[(e[0]-aI[aG][0])/aF,0,0];break;case"scale":aO[aG]=e;aI[aG]=(aI[aG]+y)[J](av);aC[aG]=[(e[0]-aI[aG][0])/aF,(e[1]-aI[aG][1])/aF,0,0];break;case"clip-rect":aI[aG]=(aI[aG]+y)[J](av);aC[aG]=[];var aK=4;while(aK--){aC[aG][aK]=(e[aK]-aI[aG][aK])/aF}break}E[aG]=e}}}}var R=+new Date,aD=0,aN=function(i){return i>255?255:i},ay=this;(function aL(){var aQ=new Date-R,aY={},aP;if(aQ<aF){var aW=m.easing_formulas[aE]?m.easing_formulas[aE](aQ/aF):aQ/aF;for(var aU in aI){if(aI[j](aU)){switch(H[aU]){case"number":aP=+aI[aU]+aW*aF*aC[aU];break;case"colour":aP="rgb("+[aN(ak(aI[aU].r+aW*aF*aC[aU].r)),aN(ak(aI[aU].g+aW*aF*aC[aU].g)),aN(ak(aI[aU].b+aW*aF*aC[aU].b))][v](",")+")";break;case"path":aP=[];for(var aS=0,aZ=aI[aU][B];aS<aZ;aS++){aP[aS]=[aI[aU][aS][0]];for(var aR=1,aT=aI[aU][aS][B];aR<aT;aR++){aP[aS][aR]=+aI[aU][aS][aR]+aW*aF*aC[aU][aS][aR]}aP[aS]=aP[aS][v](" ")}aP=aP[v](" ");break;case"csv":switch(aU){case"translation":var aX=aC[aU][0]*(aQ-aD),aV=aC[aU][1]*(aQ-aD);aB.x+=aX;aB.y+=aV;aP=aX+" "+aV;break;case"rotation":aP=+aI[aU][0]+aW*aF*aC[aU][0];aI[aU][1]&&(aP+=","+aI[aU][1]+","+aI[aU][2]);break;case"scale":aP=[+aI[aU][0]+aW*aF*aC[aU][0],+aI[aU][1]+aW*aF*aC[aU][1],(2 in aO[aU]?aO[aU][2]:y),(3 in aO[aU]?aO[aU][3]:y)][v](" ");break;case"clip-rect":aP=[];var aS=4;while(aS--){aP[aS]=+aI[aU][aS]+aW*aF*aC[aU][aS]}break}break}aY[aU]=aP+y}}ay.attr(aY);ay.animation_in_progress=setTimeout(aL);m.svg&&f.safari()}else{(aB.x||aB.y)&&ay.translate(-aB.x,-aB.y);aO.scale&&(aO.scale=aO.scale+y);ay.attr(aO);clearTimeout(ay.animation_in_progress);m.svg&&f.safari();(m.is(aw,"function"))&&aw.call(ay)}aD=aQ})();return this};u[x].translate=function(e,E){if(e==null){return{x:this._.tx,y:this._.ty}}this._.tx+=+e;this._.ty+=+E;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+E+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+E+this.attrs.y});break;case"path":var i=h(this.attrs.path);i[0][1]+=+e;i[0][2]+=+E;this.attr({path:i});break}return this};u[x][k]=function(){return"Rapha\u00ebl\u2019s object"};var q=function(e){this.items=[];this[B]=0;if(e){for(var E=0,R=e[B];E<R;E++){if(e[E]&&(e[E].constructor==u||e[E].constructor==q)){this[this.items[B]]=this.items[this.items[B]]=e[E];this[B]++}}}};q[x][ag]=function(){var aw,e;for(var E=0,R=arguments[B];E<R;E++){aw=arguments[E];if(aw&&(aw.constructor==u||aw.constructor==q)){e=this.items[B];this[e]=this.items[e]=aw;this[B]++}}return this};q[x].pop=function(){delete this[this[B]--];return this.items.pop()};for(var an in u[x]){if(u[x][j](an)){q[x][an]=(function(e){return function(){for(var E=0,R=this.items[B];E<R;E++){this.items[E][e][aq](this.items[E],arguments)}return this}})(an)}}q[x].attr=function(E,ay){if(E&&m.is(E,"array")&&m.is(E[0],"object")){for(var e=0,ax=E[B];e<ax;e++){this.items[e].attr(E[e])}}else{for(var R=0,aw=this.items[B];R<aw;R++){this.items[R].attr[aq](this.items[R],arguments)}}return this};q[x].animate=function(ax,E,aA,az){if(m.is(aA,"function")||!aA){az=aA||null}var e=this.items[B],R=e,ay=this;if(az){var aw=function(){!--e&&az.call(ay)};while(R--){this.items[R].animate(ax,E,aA||aw,aw)}}else{while(R--){this.items[R].animate(ax,E,aA)}}return this};q[x].getBBox=function(){var e=[],ay=[],E=[],aw=[];for(var R=this.items[B];R--;){var ax=this.items[R].getBBox();e[ag](ax.x);ay[ag](ax.y);E[ag](ax.x+ax.width);aw[ag](ax.y+ax.height)}e=X[aq](0,e);ay=X[aq](0,ay);return{x:e,y:ay,width:t[aq](0,E)-e,height:t[aq](0,aw)-ay}};m.registerFont=function(i){if(!i.face){return i}this.fonts=this.fonts||{};var R={w:i.w,face:{},glyphs:{}},E=i.face["font-family"];for(var ay in i.face){if(i.face[j](ay)){R.face[ay]=i.face[ay]}}if(this.fonts[E]){this.fonts[E][ag](R)}else{this.fonts[E]=[R]}if(!i.svg){R.face["units-per-em"]=w(i.face["units-per-em"],10);for(var aw in i.glyphs){if(i.glyphs[j](aw)){var ax=i.glyphs[aw];R.glyphs[aw]={w:ax.w,k:{},d:ax.d&&"M"+ax.d[T](/[mlcxtrv]/g,function(az){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[az]||"M"})+"z"};if(ax.k){for(var e in ax.k){if(ax[j](e)){R.glyphs[aw].k[e]=ax.k[e]}}}}}}return i};f.getFont=function(aA,aB,E,aw){aw=aw||"normal";E=E||"normal";aB=+aB||{normal:400,bold:700,lighter:300,bolder:800}[aB]||400;var ax=m.fonts[aA];if(!ax){var R=new RegExp("(^|\\s)"+aA[T](/[^\w\d\s+!~.:_-]/g,y)+"(\\s|$)","i");for(var e in m.fonts){if(m.fonts[j](e)){if(R.test(e)){ax=m.fonts[e];break}}}}var ay;if(ax){for(var az=0,aC=ax[B];az<aC;az++){ay=ax[az];if(ay.face["font-weight"]==aB&&(ay.face["font-style"]==E||!ay.face["font-style"])&&ay.face["font-stretch"]==aw){break}}}return ay};f.print=function(aC,aB,az,E,aG){var ax=this.set(),aA=(az+y)[J](y),e=0,aF=y,aw;m.is(E,"string")&&(E=this.getFont(E));if(E){aw=(aG||16)/E.face["units-per-em"];for(var ay=0,aD=aA[B];ay<aD;ay++){var R=ay&&E.glyphs[aA[ay-1]]||{},aE=E.glyphs[aA[ay]];e+=ay?(R.w||E.w)+(R.k&&R.k[aA[ay]]||0):0;aE&&aE.d&&ax[ag](this.path(aE.d).attr({fill:"#000",stroke:"none",translation:[e,0]}))}ax.scale(aw,aw,0,aB).translate(aC,(aG||16)/2)}return ax};m.format=function(i){var e=m.is(arguments[1],"array")?[0][L](arguments[1]):arguments;i&&m.is(i,"string")&&e[B]-1&&(i=i[T](/\{(\d+)\}/g,function(R,E){return e[++E]==null?y:e[E]}));return i||y};m.ninja=function(){var E=af.Raphael,i;if(al.was){af.Raphael=al.is}else{try{delete af.Raphael}catch(R){af.Raphael=i}}return E};m.el=u[x];return m})();(function(){Raphael.fn.g=Raphael.fn.g||{};Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0};Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"};Raphael.fn.g.colors=[];var b=[0.6,0.2,0.05,0.1333,0.75,0];for(var a=0;a<10;a++){if(a<b.length){Raphael.fn.g.colors.push("hsb("+b[a]+", .75, .75)")}else{Raphael.fn.g.colors.push("hsb("+b[a-b.length]+", 1, .5)")}}Raphael.fn.g.text=function(c,f,e){return this.text(c,f,e).attr(this.g.txtattr)};Raphael.fn.g.labelise=function(c,f,e){if(c){return(c+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(g,i,h){if(i){return(+f).toFixed(i.replace(/^#+\.?/g,"").length)}if(h){return(f*100/e).toFixed(h.replace(/^%+\.?/g,"").length)+"%"}})}else{return(+f).toFixed(0)}};Raphael.fn.g.finger=function(j,i,e,k,f,g,h){if((f&&!k)||(!f&&!e)){return h?"":this.path()}g={square:"square",sharp:"sharp",soft:"soft"}[g]||"round";var m;k=Math.round(k);e=Math.round(e);j=Math.round(j);i=Math.round(i);switch(g){case"round":if(!f){var c=Math.floor(k/2);if(e<c){c=e;m=["M",j+0.5,i+0.5-Math.floor(k/2),"l",0,0,"a",c,Math.floor(k/2),0,0,1,0,k,"l",0,0,"z"]}else{m=["M",j+0.5,i+0.5-c,"l",e-c,0,"a",c,c,0,1,1,0,k,"l",c-e,0,"z"]}}else{var c=Math.floor(e/2);if(k<c){c=k;m=["M",j-Math.floor(e/2),i,"l",0,0,"a",Math.floor(e/2),c,0,0,1,e,0,"l",0,0,"z"]}else{m=["M",j-c,i,"l",0,c-k,"a",c,c,0,1,1,e,0,"l",0,k-c,"z"]}}break;case"sharp":if(!f){var l=Math.floor(k/2);m=["M",j,i+l,"l",0,-k,Math.max(e-l,0),0,Math.min(l,e),l,-Math.min(l,e),l+(l*2<k),"z"]}else{var l=Math.floor(e/2);m=["M",j+l,i,"l",-e,0,0,-Math.max(k-l,0),l,-Math.min(l,k),l,Math.min(l,k),l,"z"]}break;case"square":if(!f){m=["M",j,i+Math.floor(k/2),"l",0,-k,e,0,0,k,"z"]}else{m=["M",j+Math.floor(e/2),i,"l",1-e,0,0,-k,e-1,0,"z"]}break;case"soft":var c;if(!f){c=Math.min(e,Math.round(k/5));m=["M",j+0.5,i+0.5-Math.floor(k/2),"l",e-c,0,"a",c,c,0,0,1,c,c,"l",0,k-c*2,"a",c,c,0,0,1,-c,c,"l",c-e,0,"z"]}else{c=Math.min(Math.round(e/5),k);m=["M",j-Math.floor(e/2),i,"l",0,c-k,"a",c,c,0,0,1,c,-c,"l",e-2*c,0,"a",c,c,0,0,1,c,c,"l",0,k-c,"z"]}}if(h){return m.join(",")}else{return this.path(m)}};Raphael.fn.g.disc=function(c,f,e){return this.circle(c,f,e)};Raphael.fn.g.line=function(c,f,e){return this.rect(c-e,f-e/5,2*e,2*e/5)};Raphael.fn.g.square=function(c,f,e){e=e*0.7;return this.rect(c-e,f-e,2*e,2*e)};Raphael.fn.g.triangle=function(c,f,e){e*=1.75;return this.path("M".concat(c,",",f,"m0-",e*0.58,"l",e*0.5,",",e*0.87,"-",e,",0z"))};Raphael.fn.g.diamond=function(c,f,e){return this.path(["M",c,f-e,"l",e,e,-e,e,-e,-e,e,-e,"z"])};Raphael.fn.g.flower=function(g,f,c,e){c=c*1.25;var l=c,k=l*0.5;e=+e<3||!e?5:e;var m=["M",g,f+k,"Q"],j;for(var h=1;h<e*2+1;h++){j=h%2?l:k;m=m.concat([+(g+j*Math.sin(h*Math.PI/e)).toFixed(3),+(f+j*Math.cos(h*Math.PI/e)).toFixed(3)])}m.push("z");return this.path(m.join(","))};Raphael.fn.g.star=function(c,k,j,e){e=e||j*0.5;var h=["M",c,k+e,"L"],g;for(var f=1;f<10;f++){g=f%2?j:e;h=h.concat([(c+g*Math.sin(f*Math.PI*0.2)).toFixed(3),(k+g*Math.cos(f*Math.PI*0.2)).toFixed(3)])}h.push("z");return this.path(h.join(","))};Raphael.fn.g.cross=function(c,f,e){e=e/2.5;return this.path("M".concat(c-e,",",f,"l",[-e,-e,e,-e,e,e,e,-e,e,e,-e,e,e,e,-e,e,-e,-e,-e,e,-e,-e,"z"]))};Raphael.fn.g.plus=function(c,f,e){e=e/2;return this.path("M".concat(c-e/2,",",f-e/2,"l",[0,-e,e,0,0,e,e,0,0,e,-e,0,0,e,-e,0,0,-e,-e,0,0,-e,"z"]))};Raphael.fn.g.arrow=function(c,f,e){return this.path("M".concat(c-e*0.7,",",f-e*0.4,"l",[e*0.6,0,0,-e*0.4,e,e*0.8,-e,e*0.8,0,-e*0.4,-e*0.6,0],"z"))};Raphael.fn.g.tag=function(c,k,j,i,g){i=i||0;g=g==null?5:g;j=j==null?"$9.99":j;var f=0.5522*g,e=this.set(),h=3;e.push(this.path().attr({fill:"#000",stroke:"none"}));e.push(this.text(c,k,j).attr(this.g.txtattr).attr({fill:"#fff"}));e.update=function(){this.rotate(0,c,k);var m=this[1].getBBox();if(m.height>=g*2){this[0].attr({path:["M",c,k+g,"a",g,g,0,1,1,0,-g*2,g,g,0,1,1,0,g*2,"m",0,-g*2-h,"a",g+h,g+h,0,1,0,0,(g+h)*2,"L",c+g+h,k+m.height/2+h,"l",m.width+2*h,0,0,-m.height-2*h,-m.width-2*h,0,"L",c,k-g-h].join(",")})}else{var l=Math.sqrt(Math.pow(g+h,2)-Math.pow(m.height/2+h,2));this[0].attr({path:["M",c,k+g,"c",-f,0,-g,f-g,-g,-g,0,-f,g-f,-g,g,-g,f,0,g,g-f,g,g,0,f,f-g,g,-g,g,"M",c+l,k-m.height/2-h,"a",g+h,g+h,0,1,0,0,m.height+2*h,"l",g+h-l+m.width+2*h,0,0,-m.height-2*h,"L",c+l,k-m.height/2-h].join(",")})}this[1].attr({x:c+g+h+m.width/2,y:k});i=(360-i)%360;this.rotate(i,c,k);i>90&&i<270&&this[1].attr({x:c-g-h-m.width/2,y:k,rotation:[180+i,c,k]});return this};e.update();return e};Raphael.fn.g.popupit=function(j,i,k,e,q){e=e==null?2:e;q=q||5;j=Math.round(j)+0.5;i=Math.round(i)+0.5;var g=k.getBBox(),l=Math.round(g.width/2),f=Math.round(g.height/2),o=[0,l+q*2,0,-l-q*2],m=[-f*2-q*3,-f-q,0,-f-q],c=["M",j-o[e],i-m[e],"l",-q,(e==2)*-q,-Math.max(l-q,0),0,"a",q,q,0,0,1,-q,-q,"l",0,-Math.max(f-q,0),(e==3)*-q,-q,(e==3)*q,-q,0,-Math.max(f-q,0),"a",q,q,0,0,1,q,-q,"l",Math.max(l-q,0),0,q,!e*-q,q,!e*q,Math.max(l-q,0),0,"a",q,q,0,0,1,q,q,"l",0,Math.max(f-q,0),(e==1)*q,q,(e==1)*-q,q,0,Math.max(f-q,0),"a",q,q,0,0,1,-q,q,"l",-Math.max(l-q,0),0,"z"].join(","),n=[{x:j,y:i+q*2+f},{x:j-q*2-l,y:i},{x:j,y:i-q*2-f},{x:j+q*2+l,y:i}][e];k.translate(n.x-l-g.x,n.y-f-g.y);return this.path(c).attr({fill:"#000",stroke:"none"}).insertBefore(k.node?k:k[0])};Raphael.fn.g.popup=function(c,j,i,e,g){e=e==null?2:e;g=g||5;i=i||"$9.99";var f=this.set(),h=3;f.push(this.path().attr({fill:"#000",stroke:"none"}));f.push(this.text(c,j,i).attr(this.g.txtattr).attr({fill:"#fff"}));f.update=function(m,l,n){m=m||c;l=l||j;var q=this[1].getBBox(),s=q.width/2,o=q.height/2,v=[0,s+g*2,0,-s-g*2],t=[-o*2-g*3,-o-g,0,-o-g],k=["M",m-v[e],l-t[e],"l",-g,(e==2)*-g,-Math.max(s-g,0),0,"a",g,g,0,0,1,-g,-g,"l",0,-Math.max(o-g,0),(e==3)*-g,-g,(e==3)*g,-g,0,-Math.max(o-g,0),"a",g,g,0,0,1,g,-g,"l",Math.max(s-g,0),0,g,!e*-g,g,!e*g,Math.max(s-g,0),0,"a",g,g,0,0,1,g,g,"l",0,Math.max(o-g,0),(e==1)*g,g,(e==1)*-g,g,0,Math.max(o-g,0),"a",g,g,0,0,1,-g,g,"l",-Math.max(s-g,0),0,"z"].join(","),u=[{x:m,y:l+g*2+o},{x:m-g*2-s,y:l},{x:m,y:l-g*2-o},{x:m+g*2+s,y:l}][e];if(n){this[0].animate({path:k},500,">");this[1].animate(u,500,">")}else{this[0].attr({path:k});this[1].attr(u)}return this};return f.update(c,j)};Raphael.fn.g.flag=function(c,i,h,g){g=g||0;h=h||"$9.99";var e=this.set(),f=3;e.push(this.path().attr({fill:"#000",stroke:"none"}));e.push(this.text(c,i,h).attr(this.g.txtattr).attr({fill:"#fff"}));e.update=function(j,m){this.rotate(0,j,m);var l=this[1].getBBox(),k=l.height/2;this[0].attr({path:["M",j,m,"l",k+f,-k-f,l.width+2*f,0,0,l.height+2*f,-l.width-2*f,0,"z"].join(",")});this[1].attr({x:j+k+f+l.width/2,y:m});g=360-g;this.rotate(g,j,m);g>90&&g<270&&this[1].attr({x:j-r-f-l.width/2,y:m,rotation:[180+g,j,m]});return this};return e.update(c,i)};Raphael.fn.g.label=function(c,g,f){var e=this.set();e.push(this.rect(c,g,10,10).attr({stroke:"none",fill:"#000"}));e.push(this.text(c,g,f).attr(this.g.txtattr).attr({fill:"#fff"}));e.update=function(){var i=this[1].getBBox(),h=Math.min(i.width+10,i.height+10)/2;this[0].attr({x:i.x-h/2,y:i.y-h/2,width:i.width+h,height:i.height+h,r:h})};e.update();return e};Raphael.fn.g.labelit=function(f){var e=f.getBBox(),c=Math.min(20,e.width+10,e.height+10)/2;return this.rect(e.x-c/2,e.y-c/2,e.width+c,e.height+c,c).attr({stroke:"none",fill:"#000"}).insertBefore(f[0])};Raphael.fn.g.drop=function(c,i,h,f,g){f=f||30;g=g||0;var e=this.set();e.push(this.path(["M",c,i,"l",f,0,"A",f*0.4,f*0.4,0,1,0,c+f*0.7,i-f*0.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-g,c,i]}));g=(g+90)*Math.PI/180;e.push(this.text(c+f*Math.sin(g),i+f*Math.cos(g),h).attr(this.g.txtattr).attr({"font-size":f*12/30,fill:"#fff"}));e.drop=e[0];e.text=e[1];return e};Raphael.fn.g.blob=function(e,k,j,i,g){i=(+i+1?i:45)+90;g=g||12;var c=Math.PI/180,h=g*12/12;var f=this.set();f.push(this.path().attr({fill:"#000",stroke:"none"}));f.push(this.text(e+g*Math.sin((i)*c),k+g*Math.cos((i)*c)-h/2,j).attr(this.g.txtattr).attr({"font-size":h,fill:"#fff"}));f.update=function(q,p,v){q=q||e;p=p||k;var y=this[1].getBBox(),B=Math.max(y.width+h,g*25/12),x=Math.max(y.height+h,g*25/12),m=q+g*Math.sin((i-22.5)*c),z=p+g*Math.cos((i-22.5)*c),o=q+g*Math.sin((i+22.5)*c),A=p+g*Math.cos((i+22.5)*c),D=(o-m)/2,C=(A-z)/2,n=B/2,l=x/2,u=-Math.sqrt(Math.abs(n*n*l*l-n*n*C*C-l*l*D*D)/(n*n*C*C+l*l*D*D)),t=u*n*C/l+(o+m)/2,s=u*-l*D/n+(A+z)/2;if(v){this.animate({x:t,y:s,path:["M",e,k,"L",o,A,"A",n,l,0,1,1,m,z,"z"].join(",")},500,">")}else{this.attr({x:t,y:s,path:["M",e,k,"L",o,A,"A",n,l,0,1,1,m,z,"z"].join(",")})}return this};f.update(e,k);return f};Raphael.fn.g.colorValue=function(g,f,e,c){return"hsb("+[Math.min((1-g/f)*0.4,1),e||0.75,c||0.75]+")"};Raphael.fn.g.snapEnds=function(l,m,k){var h=l,n=m;if(h==n){return{from:h,to:n,power:0}}function o(f){return Math.abs(f-0.5)<0.25?Math.floor(f)+0.5:Math.round(f)}var j=(n-h)/k,c=Math.floor(j),g=c,e=0;if(c){while(g){e--;g=Math.floor(j*Math.pow(10,e))/Math.pow(10,e)}e++}else{while(!c){e=e||1;c=Math.floor(j*Math.pow(10,e))/Math.pow(10,e);e++}e&&e--}var n=o(m*Math.pow(10,e))/Math.pow(10,e);if(n<m){n=o((m+0.5)*Math.pow(10,e))/Math.pow(10,e)}var h=o((l-(e>0?0:0.5))*Math.pow(10,e))/Math.pow(10,e);return{from:h,to:n,power:e}};Raphael.fn.g.axis=function(s,q,m,E,h,H,k,J,l,c){c=c==null?2:c;l=l||"t";H=H||10;var D=l=="|"||l==" "?["M",s+0.5,q,"l",0,0.001]:k==1||k==3?["M",s+0.5,q,"l",0,-m]:["M",s,q+0.5,"l",m,0],v=this.g.snapEnds(E,h,H),I=v.from,z=v.to,G=v.power,F=0,A=this.set();d=(z-I)/H;var p=I,o=G>0?G:0;u=m/H;if(+k==1||+k==3){var e=q,w=(k-1?1:-1)*(c+3+!!(k-1));while(e>=q-m){l!="-"&&l!=" "&&(D=D.concat(["M",s-(l=="+"||l=="|"?c:!(k-1)*c*2),e+0.5,"l",c*2+1,0]));A.push(this.text(s+w,e,(J&&J[F++])||(Math.round(p)==p?p:+p.toFixed(o))).attr(this.g.txtattr).attr({"text-anchor":k-1?"start":"end"}));p+=d;e-=u}if(Math.round(e+u-(q-m))){l!="-"&&l!=" "&&(D=D.concat(["M",s-(l=="+"||l=="|"?c:!(k-1)*c*2),q-m+0.5,"l",c*2+1,0]));A.push(this.text(s+w,q-m,(J&&J[F])||(Math.round(p)==p?p:+p.toFixed(o))).attr(this.g.txtattr).attr({"text-anchor":k-1?"start":"end"}))}}else{var g=s,p=I,o=G>0?G:0,w=(k?-1:1)*(c+9+!k),u=m/H,B=0,C=0;while(g<=s+m){l!="-"&&l!=" "&&(D=D.concat(["M",g+0.5,q-(l=="+"?c:!!k*c*2),"l",0,c*2+1]));A.push(B=this.text(g,q+w,(J&&J[F++])||(Math.round(p)==p?p:+p.toFixed(o))).attr(this.g.txtattr));var n=B.getBBox();if(C>=n.x-5){A.pop(A.length-1).remove()}else{C=n.x+n.width}p+=d;g+=u}if(Math.round(g-u-s-m)){l!="-"&&l!=" "&&(D=D.concat(["M",s+m+0.5,q-(l=="+"?c:!!k*c*2),"l",0,c*2+1]));A.push(this.text(s+m,q+w,(J&&J[F])||(Math.round(p)==p?p:+p.toFixed(o))).attr(this.g.txtattr))}}var K=this.path(D);K.text=A;K.all=this.set([K,A]);K.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return K};Raphael.el.lighter=function(e){e=e||2;var c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]];c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex);c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex);c[0].b=Math.min(c[0].b*e,1);c[0].s=c[0].s/e;c[1].b=Math.min(c[1].b*e,1);c[1].s=c[1].s/e;this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+")"})};Raphael.el.darker=function(e){e=e||2;var c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]];c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex);c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex);c[0].s=Math.min(c[0].s*e,1);c[0].b=c[0].b/e;c[1].s=Math.min(c[1].s*e,1);c[1].b=c[1].b/e;this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+")"})};Raphael.el.original=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}}})();Raphael.fn.g.barchart=function(E,C,a,e,Q,w){w=w||{};var R={round:"round",sharp:"sharp",soft:"soft"}[w.type]||"square",o=parseFloat(w.gutter||"20%"),O=this.set(),z=this.set(),f=this.set(),u=this.set(),A=Math.max.apply(Math,Q),P=[],c=this,D=0,H=w.colors||this.g.colors,t=Q.length;if(this.raphael.is(Q[0],"array")){A=[];D=t;t=0;for(var M=Q.length;M--;){z.push(this.set());A.push(Math.max.apply(Math,Q[M]));t=Math.max(t,Q[M].length)}if(w.stacked){for(var M=t;M--;){var m=0;for(var L=Q.length;L--;){m+=+Q[L][M]||0}P.push(m)}}for(var M=Q.length;M--;){if(Q[M].length<t){for(var L=t;L--;){Q[M].push(0)}}}A=Math.max.apply(Math,w.stacked?P:A)}A=(w.to)||A;var F=a/(t*(100+o)+o)*100,b=F*o/100,k=w.vgutter==null?20:w.vgutter,v=[],l=E+b,g=(e-2*k)/A;if(!w.stretch){b=Math.round(b);F=Math.floor(F)}!w.stacked&&(F/=D||1);for(var M=0;M<t;M++){v=[];for(var L=0;L<(D||1);L++){var N=Math.round((D?Q[L][M]:Q[M])*g),n=C+e-k-N,J=this.g.finger(Math.round(l+F/2),n+N,F,N,true,R).attr({stroke:H[D?L:M],fill:H[D?L:M]});if(D){z[L].push(J)}else{z.push(J)}J.j=L;J.i=M;J.y=n;J.x=Math.round(l+F/2);J.w=F;J.h=N;J.value=D?Q[L][M]:Q[M];if(!w.stacked){l+=F}else{v.push(J)}}if(w.stacked){var K;u.push(K=this.rect(v[0].x-v[0].w/2,C,F,e).attr(this.g.shim));K.bars=this.set();var p=0;for(var G=v.length;G--;){v[G].toFront()}for(var G=0,q=v.length;G<q;G++){var J=v[G],B,N=(p+J.value)*g,I=this.g.finger(J.x,C+e-k-!!p*0.5,F,N,true,R,1);K.bars.push(J);p&&J.attr({path:I});J.h=N;J.y=C+e-k-!!p*0.5-N;f.push(B=this.rect(J.x-J.w/2,J.y,F,J.value*g).attr(this.g.shim));B.bar=J;B.value=J.value;p+=J.value}l+=F}l+=b}u.toFront();l=E+b;if(!w.stacked){for(var M=0;M<t;M++){for(var L=0;L<(D||1);L++){var B;f.push(B=this.rect(Math.round(l),C+k,F,e-k).attr(this.g.shim));B.bar=D?z[L][M]:z[M];B.value=B.bar.value;l+=F}l+=b}}O.label=function(S,V){S=S||[];this.labels=c.set();var W,h=-Infinity;if(w.stacked){for(var x=0;x<t;x++){var T=0;for(var s=0;s<(D||1);s++){T+=D?Q[s][x]:Q[x];if(s==D-1){var X=c.g.labelise(S[x],T,A);W=c.g.text(z[x*(D||1)+s].x,C+e-k/2,X).insertBefore(f[x*(D||1)+s]);var U=W.getBBox();if(U.x-7<h){W.remove()}else{this.labels.push(W);h=U.x+U.width}}}}}else{for(var x=0;x<t;x++){for(var s=0;s<(D||1);s++){var X=c.g.labelise(D?S[s]&&S[s][x]:S[x],D?Q[s][x]:Q[x],A);var y=z[s][x];W=c.g.text(y.x,V?C+e-k/2:y.y-10,X).insertBefore(f[x*(D||1)+s]);var U=W.getBBox();if(U.x-7<h){W.remove()}else{this.labels.push(W);h=U.x+U.width}}}}return this};O.hover=function(i,h){u.hide();f.show();f.mouseover(i).mouseout(h);return this};O.hoverColumn=function(i,h){f.hide();u.show();h=h||function(){};u.mouseover(i).mouseout(h);return this};O.click=function(h){u.hide();f.show();f.click(h);return this};O.each=function(j){if(!Raphael.is(j,"function")){return this}for(var h=f.length;h--;){j.call(f[h])}return this};O.eachColumn=function(j){if(!Raphael.is(j,"function")){return this}for(var h=u.length;h--;){j.call(u[h])}return this};O.clickColumn=function(h){f.hide();u.show();u.click(h);return this};O.push(z,f,u);O.bars=z;O.covers=f;return O};Raphael.fn.g.hbarchart=function(o,m,D,A,c,u){u=u||{};var f={round:"round",sharp:"sharp",soft:"soft"}[u.type]||"square",g=parseFloat(u.gutter||"20%"),w=this.set(),C=this.set(),k=this.set(),G=this.set(),O=Math.max.apply(Math,c),a=[],p=this,E=0,n=u.colors||this.g.colors,J=c.length;if(this.raphael.is(c[0],"array")){O=[];E=J;J=0;for(var I=c.length;I--;){C.push(this.set());O.push(Math.max.apply(Math,c[I]));J=Math.max(J,c[I].length)}if(u.stacked){for(var I=J;I--;){var q=0;for(var H=c.length;H--;){q+=+c[H][I]||0}a.push(q)}}for(var I=c.length;I--;){if(c[I].length<J){for(var H=J;H--;){c[I].push(0)}}}O=Math.max.apply(Math,u.stacked?a:O)}O=(u.to)||O;var L=Math.floor(A/(J*(100+g)+g)*100),l=Math.floor(L*g/100),h=[],b=m+l,e=(D-1)/O;!u.stacked&&(L/=E||1);for(var I=0;I<J;I++){h=[];for(var H=0;H<(E||1);H++){var N=E?c[H][I]:c[I],K=this.g.finger(o,b+L/2,Math.round(N*e),L-1,false,f).attr({stroke:n[E?H:I],fill:n[E?H:I]});if(E){C[H].push(K)}else{C.push(K)}K.x=o+Math.round(N*e);K.y=b+L/2;K.w=Math.round(N*e);K.h=L;K.value=+N;if(!u.stacked){b+=L}else{h.push(K)}}if(u.stacked){var t=this.rect(o,h[0].y-h[0].h/2,D,L).attr(this.g.shim);G.push(t);t.bars=this.set();var z=0;for(var v=h.length;v--;){h[v].toFront()}for(var v=0,F=h.length;v<F;v++){var K=h[v],M,N=Math.round((z+K.value)*e),B=this.g.finger(o,K.y,N,L-1,false,f,1);t.bars.push(K);z&&K.attr({path:B});K.w=N;K.x=o+N;k.push(M=this.rect(o+z*e,K.y-K.h/2,K.value*e,L).attr(this.g.shim));M.bar=K;z+=K.value}b+=L}b+=l}G.toFront();b=m+l;if(!u.stacked){for(var I=0;I<J;I++){for(var H=0;H<E;H++){var M=this.rect(o,b,D,L).attr(this.g.shim);k.push(M);M.bar=C[H][I];b+=L}b+=l}}w.label=function(T,R){T=T||[];this.labels=p.set();for(var Q=0;Q<J;Q++){for(var P=0;P<E;P++){var y=p.g.labelise(E?T[P]&&T[P][Q]:T[Q],E?c[P][Q]:c[Q],O);var S=R?C[Q*(E||1)+P].x-L/2+3:o+5,x=R?"end":"start",s;this.labels.push(s=p.g.text(S,C[Q*(E||1)+P].y,y).attr({"text-anchor":x}).insertBefore(k[0]));if(s.getBBox().x<o+5){s.attr({x:o+5,"text-anchor":"start"})}else{C[Q*(E||1)+P].label=s}}}return this};w.hover=function(j,i){G.hide();k.show();i=i||function(){};k.mouseover(j).mouseout(i);return this};w.hoverColumn=function(j,i){k.hide();G.show();i=i||function(){};G.mouseover(j).mouseout(i);return this};w.each=function(s){if(!Raphael.is(s,"function")){return this}for(var j=k.length;j--;){s.call(k[j])}return this};w.eachColumn=function(s){if(!Raphael.is(s,"function")){return this}for(var j=G.length;j--;){s.call(G[j])}return this};w.click=function(i){G.hide();k.show();k.click(i);return this};w.clickColumn=function(i){k.hide();G.show();G.click(i);return this};w.push(C,k,G);w.bars=C;w.covers=k;return w};
